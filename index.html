import React, { useState, useEffect } from 'react';
import { ChevronLeft, ChevronRight } from 'lucide-react';

export default function FarewellWebsite() {
  const [currentPhoto, setCurrentPhoto] = useState(0);
  const [isVisible, setIsVisible] = useState(false);

  // Update these paths to match your folder structure
  // Example: './photos/photo1.jpg', './photos/photo2.jpg', etc.
  const photos = [
    './photos/photo1.jpg',
    './photos/photo2.jpg',
    './photos/photo3.jpg',
    './photos/photo4.jpg',
    './photos/photo5.jpg',
    './photos/photo6.jpg',
    './photos/photo7.jpg',
    './photos/photo8.jpg'
  ];

  useEffect(() => {
    setIsVisible(true);
  }, []);

  const nextPhoto = () => {
    setCurrentPhoto((prev) => (prev + 1) % photos.length);
  };

  const prevPhoto = () => {
    setCurrentPhoto((prev) => (prev - 1 + photos.length) % photos.length);
  };

  const teamMembers = [
    "Anushri Anand",
    "Sakshi Mandanna",
    "Aiswarya Anand",
    "Advaith Vijaya Mohan",
    "Shivani Shantagiri",
    "Om Gadh",
    "Pranav Athrangadan",
    "Kapilesh Umakanth"
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 relative overflow-hidden">
      {/* Subtle animated background elements */}
      <div className="fixed inset-0 overflow-hidden pointer-events-none opacity-40">
        <div className="absolute top-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl animate-blob"></div>
        <div className="absolute top-40 right-10 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"></div>
        <div className="absolute bottom-20 left-1/2 w-72 h-72 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"></div>
      </div>

      {/* Header Section */}
      <div className={`relative z-10 text-center pt-20 pb-12 px-4 transition-all duration-1000 ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-10'}`}>
        <h1 className="text-6xl md:text-7xl font-light mb-4 text-slate-800 tracking-tight">
          Farewell
        </h1>
        <div className="w-24 h-1 bg-gradient-to-r from-indigo-400 to-purple-400 mx-auto mb-6 rounded-full"></div>
        <h2 className="text-3xl md:text-4xl font-light text-slate-700">
          Miss Aishvarya Krishnakumar
        </h2>
      </div>

      {/* Photo Gallery Section */}
      <div className="relative z-10 max-w-6xl mx-auto px-4 mb-16">
        <div className="relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden border border-white/20">
          <div className="relative h-[450px] md:h-[600px]">
            {photos.map((photo, index) => (
              <div
                key={index}
                className={`absolute inset-0 transition-opacity duration-700 ${
                  index === currentPhoto ? 'opacity-100' : 'opacity-0'
                }`}
              >
                <img
                  src={photo}
                  alt={`Memory ${index + 1}`}
                  className="w-full h-full object-contain bg-slate-50"
                />
              </div>
            ))}
            
            {/* Navigation Buttons */}
            <button
              onClick={prevPhoto}
              className="absolute left-4 top-1/2 -translate-y-1/2 bg-white/95 hover:bg-white p-3 rounded-full shadow-xl transition-all hover:scale-110 backdrop-blur-sm"
              aria-label="Previous photo"
            >
              <ChevronLeft className="text-slate-700" size={28} />
            </button>
            <button
              onClick={nextPhoto}
              className="absolute right-4 top-1/2 -translate-y-1/2 bg-white/95 hover:bg-white p-3 rounded-full shadow-xl transition-all hover:scale-110 backdrop-blur-sm"
              aria-label="Next photo"
            >
              <ChevronRight className="text-slate-700" size={28} />
            </button>

            {/* Photo Counter */}
            <div className="absolute bottom-6 left-1/2 -translate-x-1/2 bg-slate-800/80 backdrop-blur-sm text-white px-5 py-2 rounded-full text-sm font-medium">
              {currentPhoto + 1} / {photos.length}
            </div>
          </div>

          {/* Thumbnail Strip */}
          <div className="flex gap-3 p-5 overflow-x-auto bg-gradient-to-r from-slate-50 to-indigo-50/30 scrollbar-hide">
            {photos.map((photo, index) => (
              <button
                key={index}
                onClick={() => setCurrentPhoto(index)}
                className={`flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden border-2 transition-all ${
                  index === currentPhoto 
                    ? 'border-indigo-500 scale-105 shadow-lg' 
                    : 'border-transparent opacity-50 hover:opacity-100 hover:scale-105'
                }`}
              >
                <img
                  src={photo}
                  alt={`Thumbnail ${index + 1}`}
                  className="w-full h-full object-cover"
                />
              </button>
            ))}
          </div>
        </div>
      </div>

      {/* Team Section */}
      <div className="relative z-10 max-w-5xl mx-auto px-4 pb-20">
        <div className="bg-white/70 backdrop-blur-md rounded-2xl shadow-xl p-10 md:p-14 border border-white/20">
          <h3 className="text-3xl md:text-4xl font-light text-slate-800 mb-10 text-center">
            With Best Wishes From
          </h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-12">
            {teamMembers.map((name, index) => (
              <div
                key={index}
                className="text-center py-4 px-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl text-slate-700 font-medium hover:shadow-md transition-all"
              >
                {name}
              </div>
            ))}
          </div>

          {/* Developer Credit */}
          <div className="text-center pt-8 border-t border-slate-200">
            <p className="text-slate-500 text-sm mb-2">Developed by</p>
            <p className="text-slate-800 font-medium text-lg">Gautham Manuru Prabhu</p>
          </div>
        </div>
      </div>

      <style jsx>{`
        @keyframes blob {
          0%, 100% {
            transform: translate(0, 0) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `}</style>
    </div>
  );
}